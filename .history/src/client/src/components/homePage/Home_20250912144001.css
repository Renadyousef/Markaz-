/* =========================
   Modern UI — Drop-in CSS
   بدون أي تعديل على JSX
   ========================= */

/* ---------- Tokens ---------- */
:root{
  /* الخلفيات */
  --bg:#f3f4f6;                 /* رمادي فاتح موحّد */
  --surface:rgba(255,255,255,.65); /* سطح زجاجي خفيف */
  --surface-solid:#ffffff;      /* بديل صلب للحالات غير الداعمة للـ blur */

  /* ألوان النصوص والحدود */
  --text:#0f172a;
  --muted:#6b7280;
  --ring:#e5e7eb;

  /* ظلال وزوايا وحركة */
  --shadow-lg:0 20px 50px rgba(2,6,23,.08), 0 2px 8px rgba(2,6,23,.05);
  --shadow-md:0 12px 28px rgba(2,6,23,.08), 0 1px 4px rgba(2,6,23,.05);
  --shadow-sm:0 8px 18px rgba(2,6,23,.06);
  --radius:20px;
  --radius-sm:14px;
  --radius-pill:999px;
  --dur:.18s;

  /* ألوان لهجات للكروت والأيقونات */
  --tone-orange-bg:#fff2e6; --tone-orange-fg:#e5601a;
  --tone-purple-bg:#f3ecff; --tone-purple-fg:#7b61ff;
  --tone-blue-bg:#eaf2ff;   --tone-blue-fg:#2f6bed;
  --tone-green-bg:#e9fbef;  --tone-green-fg:#169c53;

  /* تقدم */
  --bar-bg:#eef2f7;
  --bar-fill:#3b82f6;

  /* CTA */
  --cta-bg:#111827; --cta-fg:#fff;

  /* Blur */
  --blur:10px;
}

/* تحسينات عامّة */
*{ box-sizing:border-box }
html, body, #root{ background:var(--bg) }
body{ color:var(--text); -webkit-font-smoothing:antialiased; }

/* تقليل الحركة لمن يفضّل ذلك */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; scroll-behavior:auto !important; }
}

/* ---------- الحاوية الرئيسية ---------- */
.hp{
  padding:24px clamp(16px,4vw,32px);
  max-width:1200px;
  margin-inline:auto;
}

/* ---------- طبقة الزجاج (Fallback للمتصفحات) ---------- */
.glass{
  background:var(--surface);
  border:1px solid rgba(229,231,235,.7);
  box-shadow:var(--shadow-md);
}
@supports (backdrop-filter: blur(10px)){
  .glass{
    background:var(--surface);
    backdrop-filter:blur(var(--blur));
  }
}

/* =========================================
   1) الهيرو — Modern Glass + Gradient Halo
   ========================================= */
.heroBox{
  position:relative;
  border-radius:var(--radius);
  padding:28px 22px 20px;
  overflow:hidden;
  box-shadow:var(--shadow-lg);
  border:1px solid rgba(229,231,235,.7);
  background:
    radial-gradient(800px 300px at 15% -20%, rgba(59,130,246,.10) 0%, transparent 55%),
    radial-gradient(700px 260px at 100% 0%,  rgba(16,185,129,.10) 0%, transparent 60%),
    var(--surface);
}
@supports (backdrop-filter: blur(10px)){
  .heroBox{ backdrop-filter:blur(var(--blur)); }
}
.heroRow{ display:grid; grid-template-columns:1fr; gap:14px; }
.heroText{ text-align:right; padding-inline:8px; }
.heroText h1{
  margin:0 0 8px;
  font-size:clamp(26px,4vw,36px);
  font-weight:900;
  letter-spacing:.1px;
}
.heroText p{ margin:0; color:var(--muted); font-size:15px; }

/* أخطاء/تنبيهات داخل الهيرو */
.heroError{
  margin-top:10px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid #fecaca;
  background:linear-gradient(180deg,#fff5f5, #fff);
  color:#7f1d1d;
  font-weight:700;
}

/* حبّات إجراء – مودرن */
.heroActions{ display:flex; flex-wrap:wrap; gap:10px; padding-top:10px; }
.pillBtn{
  display:inline-flex; align-items:center; gap:10px;
  background:rgba(255,255,255,.8);
  border:1px solid rgba(229,231,235,.8);
  padding:10px 14px; border-radius:var(--radius-pill);
  color:#0f172a; font-weight:800; font-size:14px;
  box-shadow:var(--shadow-sm);
  transition:transform var(--dur), box-shadow var(--dur), border-color var(--dur), background var(--dur);
}
.pillBtn:hover{ transform:translateY(-2px); box-shadow:var(--shadow-md); background:rgba(255,255,255,.95); }
.pillBtn:focus-visible{ outline:3px solid #bfdbfe; outline-offset:2px; }
.icon.xs{ width:16px; height:16px; color:var(--bar-fill); }

/* =========================================
   2) صف الإحصاءات — Minimal Cards
   ========================================= */
.statsRow{
  display:grid;
  grid-template-columns:repeat(4,minmax(0,1fr));
  gap:16px;
  margin:20px 0;
}
@media (max-width:1100px){ .statsRow{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
@media (max-width:600px){ .statsRow{ grid-template-columns:1fr; } }

.statCard{
  display:flex; align-items:center; justify-content:space-between;
  border-radius:var(--radius-sm);
  padding:16px 18px; min-height:86px;
  border:1px solid rgba(229,231,235,.8);
  box-shadow:var(--shadow-sm);
  background:rgba(255,255,255,.7);
}
@supports (backdrop-filter: blur(10px)){
  .statCard{ backdrop-filter:blur(8px); }
}
.statCard__meta{ display:flex; flex-direction:column; gap:6px; }
.statCard__label{ color:#64748b; font-weight:800; font-size:13px; letter-spacing:.2px; text-transform:uppercase; }
.statCard__value{ font-size:28px; font-weight:900; color:#0b1220; line-height:1; }
.statCard__icon{
  width:54px; height:54px; border-radius:14px; display:grid; place-items:center;
  background:linear-gradient(180deg,#fff, #f3f4f6);
  border:1px solid #e5e7eb;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.6);
}
.statCard__icon .icon{ width:26px; height:26px; }

/* لهجات الإحصاءات */
.tone-orange .statCard__icon{ background:var(--tone-orange-bg); color:var(--tone-orange-fg); }
.tone-purple .statCard__icon{ background:var(--tone-purple-bg); color:var(--tone-purple-fg); }
.tone-blue   .statCard__icon{ background:var(--tone-blue-bg);   color:var(--tone-blue-fg); }
.tone-green  .statCard__icon{ background:var(--tone-green-bg);  color:var(--tone-green-fg); }

/* =========================================
   3) الشبكة العامة + البانلز
   ========================================= */
.gridWrap{
  display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:18px;
}
@media (max-width:980px){ .gridWrap{ grid-template-columns:1fr; } }
.gridWrap .col{ display:flex; flex-direction:column; gap:20px; }

.panel{
  border-radius:var(--radius);
  border:1px solid rgba(229,231,235,.7);
  box-shadow:var(--shadow-md);
  background:var(--surface);
}
@supports (backdrop-filter: blur(10px)){
  .panel{ backdrop-filter:blur(var(--blur)); }
}
.panel__title{
  margin:0 0 14px; padding:4px 2px;
  font-size:18px; font-weight:900; color:var(--text);
}

/* =========================================
   4) Upload Box — نظيف
   ========================================= */
.uploadBox{
  border:1.5px dashed rgba(148,163,184,.6);
  border-radius:16px;
  background:rgba(255,255,255,.55);
  padding:18px;
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  box-shadow:var(--shadow-sm);
}
@supports (backdrop-filter: blur(10px)){
  .uploadBox{ backdrop-filter:blur(6px); }
}
.uploadBox__content{ display:flex; align-items:center; gap:12px; flex:1; }
.uploadBox__ico{
  width:48px; height:48px; border-radius:14px; display:grid; place-items:center;
  background:#eff6ff; color:#2563eb; border:1px solid #dbeafe;
}
.uploadBox__title{ font-weight:900; font-size:15px; color:#0f172a; }
.uploadBox__sub{ color:#64748b; font-size:12px; }
.uploadBox__btn{
  padding:10px 16px; border-radius:12px; border:1px solid #e5e7eb;
  background:#ffffff; color:#0f172a; font-weight:800; box-shadow:var(--shadow-sm);
  transition:transform var(--dur), background var(--dur), border-color var(--dur);
}
.uploadBox__btn:hover{ transform:translateY(-1px); background:#f8fafc; border-color:#dbe3ee; }

/* =========================================
   5) Feature Access Cards
   ========================================= */
.featureGrid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:14px; }
@media (max-width:980px){ .featureGrid{ grid-template-columns:1fr; } }

.featureCard{
  border-radius:16px; padding:18px;
  border:1px solid rgba(229,231,235,.7);
  background:rgba(255,255,255,.65);
  box-shadow:var(--shadow-sm);
  display:flex; flex-direction:column; gap:10px; text-align:center; align-items:center;
  transition: transform var(--dur), box-shadow var(--dur), border-color var(--dur), background var(--dur);
}
@supports (backdrop-filter: blur(10px)){
  .featureCard{ backdrop-filter:blur(6px); }
}
.featureCard:hover{ transform:translateY(-3px); box-shadow:var(--shadow-md); background:rgba(255,255,255,.9); border-color:#e3e8ef; }

.featureIcon{
  width:60px; height:60px; border-radius:16px; display:grid; place-items:center;
  background:linear-gradient(180deg,#fff,#f3f4f6);
  color:#1f2937; border:1px solid #e5e7eb; box-shadow:inset 0 1px 0 rgba(255,255,255,.7);
}
#feature-shortcuts svg, #feature-shortcuts .icon{ width:26px; height:26px; }

.featureTitle{ margin:8px 0 0; font-size:20px; font-weight:900; color:var(--text); letter-spacing:.2px; }
.featureDesc{ margin:0; color:#64748b; font-size:15px; line-height:1.7; }

.featureCTA{
  margin-top:10px; width:100%;
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  border:1px solid var(--ring); background:#fff; color:var(--text);
  border-radius:12px; padding:10px 14px; font-weight:800;
  transition:transform var(--dur), background var(--dur), border-color var(--dur), box-shadow var(--dur);
}
.featureCTA .arrow{ order:-1; font-weight:900; }
.featureCTA:hover{ background:#f8fafc; border-color:#cbd5e1; box-shadow:var(--shadow-sm); }
.featureCTA:focus-visible{ outline:3px solid #bae6fd; outline-offset:2px; }

/* توسيط كارد الدردشة */
@media (min-width:981px){
  #feature-shortcuts .featureCard.isChat{
    grid-column:1 / -1; justify-self:center; width:clamp(260px, 32vw, 360px);
  }
}

/* =========================================
   6) Weekly Progress — Rings نظيفة
   ========================================= */
.wp2Header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; }
.wp2Grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; margin-top:10px; }
@media (min-width:1024px){ .wp2Grid{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.wp2Card{
  display:flex; align-items:center; gap:12px;
  background:rgba(255,255,255,.65);
  border:1px solid rgba(229,231,235,.7);
  border-radius:14px; padding:12px; box-shadow:var(--shadow-sm);
  transition:transform var(--dur), box-shadow var(--dur), border-color var(--dur), background var(--dur);
}
@supports (backdrop-filter: blur(10px)){
  .wp2Card{ backdrop-filter:blur(6px); }
}
.wp2Card:hover{ transform:translateY(-2px); box-shadow:var(--shadow-md); background:rgba(255,255,255,.9); border-color:#e3e8ef; }

.wp2Info{ flex:1; display:flex; flex-direction:column; gap:6px; text-align:right; }
.wp2Day{ font-weight:900; color:var(--text); }
.wp2Hours{ color:#64748b; font-size:13px; }

.ring{ position:relative; display:grid; place-items:center; }
.ring.sm{ width:50px; height:50px; }
.ringSvg{ transform:rotate(-90deg); }
.ringBg{ fill:none; stroke:#e5e7eb; stroke-width:6; }
.ringFg{ fill:none; stroke:var(--bar-fill); stroke-width:6; stroke-linecap:round; transition:stroke-dashoffset .6s ease, stroke .2s ease; }
.ringFg.isDone{ stroke:#22c55e; }
.ringLabel{ position:absolute; inset:0; display:grid; place-items:center; font-size:12px; font-weight:900; color:#0f172a; }

/* =========================================
   7) بطاقات عامة وكالسابق لكن مودرن
   ========================================= */
.hpGrid{ margin-top:16px; display:grid; gap:16px; grid-template-columns:repeat(1,minmax(0,1fr)); }
@media (min-width:640px){ .hpGrid{ grid-template-columns:repeat(2,1fr); } }
@media (min-width:1024px){ .hpGrid{ grid-template-columns:repeat(4,1fr); } }

.hpCard{
  background:rgba(255,255,255,.7);
  border:1px solid rgba(229,231,235,.8);
  border-radius:var(--radius); padding:18px;
  box-shadow:var(--shadow-sm);
  transition:transform var(--dur), box-shadow var(--dur), background var(--dur);
  text-align:right; display:grid; gap:8px;
}
@supports (backdrop-filter: blur(10px)){
  .hpCard{ backdrop-filter:blur(6px); }
}
.hpCard:hover{ transform:translateY(-3px); box-shadow:var(--shadow-md); background:rgba(255,255,255,.92); }
.hpCard__icon{
  width:48px; height:48px; display:grid; place-items:center; border-radius:14px;
  background:linear-gradient(180deg,#fff,#f3f4f6); border:1px solid #e5e7eb;
}
.hpCard__icon .icon, .hpCard__icon svg{ width:22px; height:22px; }
.hpCard h3{ margin:2px 0 0; font-size:18px; font-weight:900; color:var(--text); }
.hpCard p{ margin:2px 0 8px; color:var(--muted); line-height:1.7; font-size:14px; }
.hpCard__cta{
  justify-self:start; border:1px solid var(--ring); background:#fff; color:var(--text);
  padding:8px 12px; border-radius:12px; font-weight:800; font-size:13px; transition:transform var(--dur), background var(--dur), border-color var(--dur);
}
.hpCard__cta:hover{ background:#f8fafc; border-color:#cbd5e1; transform:translateY(-1px); }

/* =========================================
   8) فلاتر وبادجز للمهام — تحديث بسيط
   ========================================= */
.panel__header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; }
.tFilter{ display:flex; gap:8px; flex-wrap:wrap; }
.fItem{
  display:inline-flex; align-items:center; gap:8px;
  background:rgba(255,255,255,.8); color:#0f172a; border:1px solid var(--ring);
  border-radius:var(--radius-pill); padding:8px 12px; font-weight:800; font-size:13px;
  transition:transform var(--dur), background var(--dur), border-color var(--dur), box-shadow var(--dur);
}
.fItem .fCnt{
  min-width:20px; height:20px; padding:0 6px; display:inline-grid; place-items:center;
  border-radius:999px; background:#f3f4f6; color:#334155; font-weight:800;
}
.fItem:hover{ background:#fff; border-color:#cbd5e1; box-shadow:var(--shadow-sm); transform:translateY(-1px); }
.fItem.isActive{ background:#0f172a; color:#fff; border-color:#0f172a; }
.fItem.isActive .fCnt{ background:#111827; color:#fff; }

.tList{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:12px; }
.tItem{
  position:relative;
  display:grid; grid-template-columns:90px 1fr auto;
  align-items:center; gap:14px;
  background:rgba(255,255,255,.75); border:1px solid var(--ring); border-radius:16px;
  padding:14px 16px; box-shadow:var(--shadow-sm);
  transition:transform var(--dur), box-shadow var(--dur), border-color var(--dur), background var(--dur);
}
@supports (backdrop-filter: blur(10px)){
  .tItem{ backdrop-filter:blur(6px); }
}
.tItem:hover{ transform:translateY(-2px); box-shadow:var(--shadow-md); background:rgba(255,255,255,.92); border-color:#e3e8ef; }

.tItem::after{
  content:""; position:absolute; right:0; top:0; bottom:0; width:6px; border-top-right-radius:16px; border-bottom-right-radius:16px;
  background:var(--prio-stripe, #e5e7eb);
}
.prio-high   { --prio-stripe:#fee2e2; }
.prio-medium { --prio-stripe:#fef3c7; }
.prio-low    { --prio-stripe:#e5e7eb; }

.tDate{
  width:90px; height:68px; border-radius:14px;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  background:#f6f8fb; border:1px solid #e7edf6;
}
.tDay{ font-size:22px; font-weight:900; color:#0b1220; line-height:1; }
.tMonth{ font-size:12px; color:#6b7280; margin-top:4px; }

.tBody{ display:flex; flex-direction:column; gap:8px; text-align:right; }
.tTitle{ font-weight:900; color:var(--text); font-size:18px; }
.taskTags{ display:flex; gap:6px; flex-wrap:wrap; }
.tag{
  font-size:12px; color:#566072; background:rgba(255,255,255,.8); border:1px solid var(--ring);
  padding:2px 8px; border-radius:var(--radius-pill); font-weight:600;
}
.prTag{ font-weight:800; }
.pr-high{ background:#fee2e2; border-color:#fecaca; color:#7f1d1d; }
.pr-medium{ background:#fef3c7; border-color:#fde68a; color:#7c2d12; }
.pr-low{ background:#f3f4f6; border-color:#e5e7eb; color:#374151; }

.tCTA{
  display:inline-flex; align-items:center; gap:8px; border:1px solid var(--ring);
  background:#fff; color:var(--text); padding:8px 12px; border-radius:12px; font-weight:800;
  transition:transform var(--dur), background var(--dur), border-color var(--dur), box-shadow var(--dur);
}
.tCTA:hover{ background:#f8fafc; border-color:#cbd5e1; box-shadow:var(--shadow-sm); transform:translateY(-1px); }
.tArrow{ font-weight:900; }

/* =========================================
   ملاحظات ختامية
   ========================================= */
/* توحيد الخلفيات دائماً بالرمادي الفاتح */
.hp, .panel, .statCard, .featureCard, .tItem, .hpCard, .uploadBox, .wp2Card{ background-clip:padding-box; }

/* تحسين تركيز لوحة المفاتيح عام */
:where(button, a, .tItem, .featureCard, .hpCard):focus-visible{
  outline:3px solid #bfdbfe; outline-offset:2px;
}
